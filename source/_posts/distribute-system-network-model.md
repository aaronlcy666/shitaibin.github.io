---
title: 分布式系统基础：网络模型
date: 2019-03-12 14:43:41
tags: ['分布式']
---

狭义上的分布式系统是指通过网络连接的计算机系统, 每个计算节点承担独立的计算和存储, 节点之间通过网络协同工作, 因此整个系统中的事件可以同时发生. 广义上的分布式系统是一个非常相对的概念, 比如多核CPU的计算也包含在内。

了解分布式系统不得不提网络模型，[《分布式系统中的网络模型和故障模型》](https://danielw.cn/network-failure-models)这篇文章给了很好的解释:

1. **同步网络(synchronous network)**: 这里的同步网络和编程中的同步阻塞io和异步非阻塞io是两回事, 不要弄混了. 同步网络是指:
    1. 所有节点的时钟漂移有上限, 
    1. 网络的传输时间有上限, 
    1. 所有节点的计算速度一样. 
    
    这意味着整个网络按照round运行, 每个round中任何节点都要执行完本地计算并且可以完成一个任意大小消息的传输. **一个发出的消息如果在一个round内（或者说超时时间内）没有到达, 那么一定是网络中断造成的, 这个消息会丢失, 不会延迟到第二个round到达**. 在现实生活中这种网络比较少, 尽管很少, 同步网络仍然是在计算机科学中是不可缺少的一个模型, 在这种模型下可以解决一些问题, 比如拜占庭式故障. 但我们每天打交道的网络大多都是异步网络.
1. **异步网络(asynchornous network)**: **和同步网络相反, 节点的时钟漂移无上限, 消息的传输延迟无上限（无法区分消息丢失还是延迟）, 节点计算的速度不可预料**. 这就是和我们每天打交道的网络类型. 在异步网络中, 有些故障非常难解决, 比如当你发给一个节点一个消息之后几秒钟都没有收到他的应答, 有可能这个节点计算非常慢, 但是也可能是节点crash或者网络延迟造成的, 你很难判断到底是发生了什么样的故障.

现实世界中99%场景都是异步网络，同步网络是比较理想的场景，经常拿来做研究，如果在同步网络下都无法解决的问题，更不可能在异步网络中解决。


